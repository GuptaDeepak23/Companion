{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":50,"index":129}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}},{"name":"../api/authApi","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":130},"end":{"line":3,"column":41,"index":171}}],"key":"3Xc86rltUICGaenx4wcLvSUPHDU=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/store/AuthContext.js\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsStorage = require(_dependencyMap[1], \"../utils/storage\");\n  var _apiAuthApi = require(_dependencyMap[2], \"../api/authApi\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(null);\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [onboardingComplete, setOnboardingComplete] = (0, _react.useState)(false);\n    const [loading, setLoading] = (0, _react.useState)(true);\n\n    // Load auth state on mount\n    (0, _react.useEffect)(() => {\n      loadAuthState();\n    }, []);\n    const loadAuthState = async () => {\n      try {\n        const storedToken = await _utilsStorage.StorageService.getToken();\n        const storedUser = await _utilsStorage.StorageService.getUser();\n        const onboardingStatus = await _utilsStorage.StorageService.isOnboardingComplete();\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(storedUser);\n          setOnboardingComplete(onboardingStatus);\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _apiAuthApi.AuthAPI.login(email, password);\n        await _utilsStorage.StorageService.saveToken(response.token);\n        await _utilsStorage.StorageService.saveUser(response.user);\n        setToken(response.token);\n        setUser(response.user);\n        setOnboardingComplete(false);\n        return response;\n      } catch (error) {\n        throw error;\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const response = await _apiAuthApi.AuthAPI.register(email, password, name);\n        await _utilsStorage.StorageService.saveToken(response.token);\n        await _utilsStorage.StorageService.saveUser(response.user);\n        setToken(response.token);\n        setUser(response.user);\n        setOnboardingComplete(false);\n        return response;\n      } catch (error) {\n        throw error;\n      }\n    };\n    const verifyOTP = async (email, otp) => {\n      try {\n        const response = await _apiAuthApi.AuthAPI.verifyOTP(email, otp);\n        return response;\n      } catch (error) {\n        throw error;\n      }\n    };\n    const completeOnboarding = async () => {\n      await _utilsStorage.StorageService.setOnboardingComplete(true);\n      setOnboardingComplete(true);\n    };\n    const logout = async () => {\n      try {\n        await _apiAuthApi.AuthAPI.logout();\n        setUser(null);\n        setToken(null);\n        setOnboardingComplete(false);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const value = {\n      user,\n      token,\n      onboardingComplete,\n      loading,\n      login,\n      register,\n      verifyOTP,\n      completeOnboarding,\n      logout,\n      isAuthenticated: !!token\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 10\n    }, this);\n  };\n});","lineCount":129,"map":[[8,2,7,0,"Object"],[8,8,7,0],[8,9,7,0,"defineProperty"],[8,23,7,0],[8,24,7,0,"exports"],[8,31,7,0],[9,4,7,0,"enumerable"],[9,14,7,0],[10,4,7,0,"get"],[10,7,7,0],[10,18,7,0,"get"],[10,19,7,0],[11,6,7,0],[11,13,7,0,"useAuth"],[11,20,7,0],[12,4,7,0],[13,2,7,0],[14,2,15,0,"Object"],[14,8,15,0],[14,9,15,0,"defineProperty"],[14,23,15,0],[14,24,15,0,"exports"],[14,31,15,0],[15,4,15,0,"enumerable"],[15,14,15,0],[16,4,15,0,"get"],[16,7,15,0],[16,18,15,0,"get"],[16,19,15,0],[17,6,15,0],[17,13,15,0,"AuthProvider"],[17,25,15,0],[18,4,15,0],[19,2,15,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,2,0],[21,6,2,0,"_utilsStorage"],[21,19,2,0],[21,22,2,0,"require"],[21,29,2,0],[21,30,2,0,"_dependencyMap"],[21,44,2,0],[22,2,3,0],[22,6,3,0,"_apiAuthApi"],[22,17,3,0],[22,20,3,0,"require"],[22,27,3,0],[22,28,3,0,"_dependencyMap"],[22,42,3,0],[23,2,3,41],[23,6,3,41,"_reactJsxDevRuntime"],[23,25,3,41],[23,28,3,41,"require"],[23,35,3,41],[23,36,3,41,"_dependencyMap"],[23,50,3,41],[24,2,5,0],[24,8,5,6,"AuthContext"],[24,19,5,17],[24,35,5,20],[24,39,5,20,"createContext"],[24,45,5,33],[24,46,5,33,"createContext"],[24,59,5,33],[24,61,5,34],[24,65,5,38],[24,66,5,39],[25,2,7,7],[25,8,7,13,"useAuth"],[25,15,7,20],[25,18,7,23,"useAuth"],[25,19,7,23],[25,24,7,29],[26,4,8,2],[26,10,8,8,"context"],[26,17,8,15],[26,20,8,18],[26,24,8,18,"useContext"],[26,30,8,28],[26,31,8,28,"useContext"],[26,41,8,28],[26,43,8,29,"AuthContext"],[26,54,8,40],[26,55,8,41],[27,4,9,2],[27,8,9,6],[27,9,9,7,"context"],[27,16,9,14],[27,18,9,16],[28,6,10,4],[28,12,10,10],[28,16,10,14,"Error"],[28,21,10,19],[28,22,10,20],[28,64,10,62],[28,65,10,63],[29,4,11,2],[30,4,12,2],[30,11,12,9,"context"],[30,18,12,16],[31,2,13,0],[31,3,13,1],[32,2,15,7],[32,8,15,13,"AuthProvider"],[32,20,15,25],[32,23,15,28,"AuthProvider"],[32,24,15,29],[33,4,15,31,"children"],[34,2,15,40],[34,3,15,41],[34,8,15,46],[35,4,16,2],[35,10,16,8],[35,11,16,9,"user"],[35,15,16,13],[35,17,16,15,"setUser"],[35,24,16,22],[35,25,16,23],[35,28,16,26],[35,32,16,26,"useState"],[35,38,16,34],[35,39,16,34,"useState"],[35,47,16,34],[35,49,16,35],[35,53,16,39],[35,54,16,40],[36,4,17,2],[36,10,17,8],[36,11,17,9,"token"],[36,16,17,14],[36,18,17,16,"setToken"],[36,26,17,24],[36,27,17,25],[36,30,17,28],[36,34,17,28,"useState"],[36,40,17,36],[36,41,17,36,"useState"],[36,49,17,36],[36,51,17,37],[36,55,17,41],[36,56,17,42],[37,4,18,2],[37,10,18,8],[37,11,18,9,"onboardingComplete"],[37,29,18,27],[37,31,18,29,"setOnboardingComplete"],[37,52,18,50],[37,53,18,51],[37,56,18,54],[37,60,18,54,"useState"],[37,66,18,62],[37,67,18,62,"useState"],[37,75,18,62],[37,77,18,63],[37,82,18,68],[37,83,18,69],[38,4,19,2],[38,10,19,8],[38,11,19,9,"loading"],[38,18,19,16],[38,20,19,18,"setLoading"],[38,30,19,28],[38,31,19,29],[38,34,19,32],[38,38,19,32,"useState"],[38,44,19,40],[38,45,19,40,"useState"],[38,53,19,40],[38,55,19,41],[38,59,19,45],[38,60,19,46],[40,4,21,2],[41,4,22,2],[41,8,22,2,"useEffect"],[41,14,22,11],[41,15,22,11,"useEffect"],[41,24,22,11],[41,26,22,12],[41,32,22,18],[42,6,23,4,"loadAuthState"],[42,19,23,17],[42,20,23,18],[42,21,23,19],[43,4,24,2],[43,5,24,3],[43,7,24,5],[43,9,24,7],[43,10,24,8],[44,4,26,2],[44,10,26,8,"loadAuthState"],[44,23,26,21],[44,26,26,24],[44,32,26,24,"loadAuthState"],[44,33,26,24],[44,38,26,36],[45,6,27,4],[45,10,27,8],[46,8,28,6],[46,14,28,12,"storedToken"],[46,25,28,23],[46,28,28,26],[46,34,28,32,"StorageService"],[46,47,28,46],[46,48,28,46,"StorageService"],[46,62,28,46],[46,63,28,47,"getToken"],[46,71,28,55],[46,72,28,56],[46,73,28,57],[47,8,29,6],[47,14,29,12,"storedUser"],[47,24,29,22],[47,27,29,25],[47,33,29,31,"StorageService"],[47,46,29,45],[47,47,29,45,"StorageService"],[47,61,29,45],[47,62,29,46,"getUser"],[47,69,29,53],[47,70,29,54],[47,71,29,55],[48,8,30,6],[48,14,30,12,"onboardingStatus"],[48,30,30,28],[48,33,30,31],[48,39,30,37,"StorageService"],[48,52,30,51],[48,53,30,51,"StorageService"],[48,67,30,51],[48,68,30,52,"isOnboardingComplete"],[48,88,30,72],[48,89,30,73],[48,90,30,74],[49,8,32,6],[49,12,32,10,"storedToken"],[49,23,32,21],[49,27,32,25,"storedUser"],[49,37,32,35],[49,39,32,37],[50,10,33,8,"setToken"],[50,18,33,16],[50,19,33,17,"storedToken"],[50,30,33,28],[50,31,33,29],[51,10,34,8,"setUser"],[51,17,34,15],[51,18,34,16,"storedUser"],[51,28,34,26],[51,29,34,27],[52,10,35,8,"setOnboardingComplete"],[52,31,35,29],[52,32,35,30,"onboardingStatus"],[52,48,35,46],[52,49,35,47],[53,8,36,6],[54,6,37,4],[54,7,37,5],[54,8,37,6],[54,15,37,13,"error"],[54,20,37,18],[54,22,37,20],[55,8,38,6,"console"],[55,15,38,13],[55,16,38,14,"error"],[55,21,38,19],[55,22,38,20],[55,49,38,47],[55,51,38,49,"error"],[55,56,38,54],[55,57,38,55],[56,6,39,4],[56,7,39,5],[56,16,39,14],[57,8,40,6,"setLoading"],[57,18,40,16],[57,19,40,17],[57,24,40,22],[57,25,40,23],[58,6,41,4],[59,4,42,2],[59,5,42,3],[60,4,44,2],[60,10,44,8,"login"],[60,15,44,13],[60,18,44,16],[60,24,44,16,"login"],[60,25,44,23,"email"],[60,30,44,28],[60,32,44,30,"password"],[60,40,44,38],[60,45,44,43],[61,6,45,4],[61,10,45,8],[62,8,46,6],[62,14,46,12,"response"],[62,22,46,20],[62,25,46,23],[62,31,46,29,"AuthAPI"],[62,42,46,36],[62,43,46,36,"AuthAPI"],[62,50,46,36],[62,51,46,37,"login"],[62,56,46,42],[62,57,46,43,"email"],[62,62,46,48],[62,64,46,50,"password"],[62,72,46,58],[62,73,46,59],[63,8,48,6],[63,14,48,12,"StorageService"],[63,27,48,26],[63,28,48,26,"StorageService"],[63,42,48,26],[63,43,48,27,"saveToken"],[63,52,48,36],[63,53,48,37,"response"],[63,61,48,45],[63,62,48,46,"token"],[63,67,48,51],[63,68,48,52],[64,8,49,6],[64,14,49,12,"StorageService"],[64,27,49,26],[64,28,49,26,"StorageService"],[64,42,49,26],[64,43,49,27,"saveUser"],[64,51,49,35],[64,52,49,36,"response"],[64,60,49,44],[64,61,49,45,"user"],[64,65,49,49],[64,66,49,50],[65,8,51,6,"setToken"],[65,16,51,14],[65,17,51,15,"response"],[65,25,51,23],[65,26,51,24,"token"],[65,31,51,29],[65,32,51,30],[66,8,52,6,"setUser"],[66,15,52,13],[66,16,52,14,"response"],[66,24,52,22],[66,25,52,23,"user"],[66,29,52,27],[66,30,52,28],[67,8,53,6,"setOnboardingComplete"],[67,29,53,27],[67,30,53,28],[67,35,53,33],[67,36,53,34],[68,8,55,6],[68,15,55,13,"response"],[68,23,55,21],[69,6,56,4],[69,7,56,5],[69,8,56,6],[69,15,56,13,"error"],[69,20,56,18],[69,22,56,20],[70,8,57,6],[70,14,57,12,"error"],[70,19,57,17],[71,6,58,4],[72,4,59,2],[72,5,59,3],[73,4,61,2],[73,10,61,8,"register"],[73,18,61,16],[73,21,61,19],[73,27,61,19,"register"],[73,28,61,26,"email"],[73,33,61,31],[73,35,61,33,"password"],[73,43,61,41],[73,45,61,43,"name"],[73,49,61,47],[73,54,61,52],[74,6,62,4],[74,10,62,8],[75,8,63,6],[75,14,63,12,"response"],[75,22,63,20],[75,25,63,23],[75,31,63,29,"AuthAPI"],[75,42,63,36],[75,43,63,36,"AuthAPI"],[75,50,63,36],[75,51,63,37,"register"],[75,59,63,45],[75,60,63,46,"email"],[75,65,63,51],[75,67,63,53,"password"],[75,75,63,61],[75,77,63,63,"name"],[75,81,63,67],[75,82,63,68],[76,8,65,6],[76,14,65,12,"StorageService"],[76,27,65,26],[76,28,65,26,"StorageService"],[76,42,65,26],[76,43,65,27,"saveToken"],[76,52,65,36],[76,53,65,37,"response"],[76,61,65,45],[76,62,65,46,"token"],[76,67,65,51],[76,68,65,52],[77,8,66,6],[77,14,66,12,"StorageService"],[77,27,66,26],[77,28,66,26,"StorageService"],[77,42,66,26],[77,43,66,27,"saveUser"],[77,51,66,35],[77,52,66,36,"response"],[77,60,66,44],[77,61,66,45,"user"],[77,65,66,49],[77,66,66,50],[78,8,68,6,"setToken"],[78,16,68,14],[78,17,68,15,"response"],[78,25,68,23],[78,26,68,24,"token"],[78,31,68,29],[78,32,68,30],[79,8,69,6,"setUser"],[79,15,69,13],[79,16,69,14,"response"],[79,24,69,22],[79,25,69,23,"user"],[79,29,69,27],[79,30,69,28],[80,8,70,6,"setOnboardingComplete"],[80,29,70,27],[80,30,70,28],[80,35,70,33],[80,36,70,34],[81,8,72,6],[81,15,72,13,"response"],[81,23,72,21],[82,6,73,4],[82,7,73,5],[82,8,73,6],[82,15,73,13,"error"],[82,20,73,18],[82,22,73,20],[83,8,74,6],[83,14,74,12,"error"],[83,19,74,17],[84,6,75,4],[85,4,76,2],[85,5,76,3],[86,4,78,2],[86,10,78,8,"verifyOTP"],[86,19,78,17],[86,22,78,20],[86,28,78,20,"verifyOTP"],[86,29,78,27,"email"],[86,34,78,32],[86,36,78,34,"otp"],[86,39,78,37],[86,44,78,42],[87,6,79,4],[87,10,79,8],[88,8,80,6],[88,14,80,12,"response"],[88,22,80,20],[88,25,80,23],[88,31,80,29,"AuthAPI"],[88,42,80,36],[88,43,80,36,"AuthAPI"],[88,50,80,36],[88,51,80,37,"verifyOTP"],[88,60,80,46],[88,61,80,47,"email"],[88,66,80,52],[88,68,80,54,"otp"],[88,71,80,57],[88,72,80,58],[89,8,81,6],[89,15,81,13,"response"],[89,23,81,21],[90,6,82,4],[90,7,82,5],[90,8,82,6],[90,15,82,13,"error"],[90,20,82,18],[90,22,82,20],[91,8,83,6],[91,14,83,12,"error"],[91,19,83,17],[92,6,84,4],[93,4,85,2],[93,5,85,3],[94,4,87,2],[94,10,87,8,"completeOnboarding"],[94,28,87,26],[94,31,87,29],[94,37,87,29,"completeOnboarding"],[94,38,87,29],[94,43,87,41],[95,6,88,4],[95,12,88,10,"StorageService"],[95,25,88,24],[95,26,88,24,"StorageService"],[95,40,88,24],[95,41,88,25,"setOnboardingComplete"],[95,62,88,46],[95,63,88,47],[95,67,88,51],[95,68,88,52],[96,6,89,4,"setOnboardingComplete"],[96,27,89,25],[96,28,89,26],[96,32,89,30],[96,33,89,31],[97,4,90,2],[97,5,90,3],[98,4,92,2],[98,10,92,8,"logout"],[98,16,92,14],[98,19,92,17],[98,25,92,17,"logout"],[98,26,92,17],[98,31,92,29],[99,6,93,4],[99,10,93,8],[100,8,94,6],[100,14,94,12,"AuthAPI"],[100,25,94,19],[100,26,94,19,"AuthAPI"],[100,33,94,19],[100,34,94,20,"logout"],[100,40,94,26],[100,41,94,27],[100,42,94,28],[101,8,95,6,"setUser"],[101,15,95,13],[101,16,95,14],[101,20,95,18],[101,21,95,19],[102,8,96,6,"setToken"],[102,16,96,14],[102,17,96,15],[102,21,96,19],[102,22,96,20],[103,8,97,6,"setOnboardingComplete"],[103,29,97,27],[103,30,97,28],[103,35,97,33],[103,36,97,34],[104,6,98,4],[104,7,98,5],[104,8,98,6],[104,15,98,13,"error"],[104,20,98,18],[104,22,98,20],[105,8,99,6,"console"],[105,15,99,13],[105,16,99,14,"error"],[105,21,99,19],[105,22,99,20],[105,37,99,35],[105,39,99,37,"error"],[105,44,99,42],[105,45,99,43],[106,6,100,4],[107,4,101,2],[107,5,101,3],[108,4,103,2],[108,10,103,8,"value"],[108,15,103,13],[108,18,103,16],[109,6,104,4,"user"],[109,10,104,8],[110,6,105,4,"token"],[110,11,105,9],[111,6,106,4,"onboardingComplete"],[111,24,106,22],[112,6,107,4,"loading"],[112,13,107,11],[113,6,108,4,"login"],[113,11,108,9],[114,6,109,4,"register"],[114,14,109,12],[115,6,110,4,"verifyOTP"],[115,15,110,13],[116,6,111,4,"completeOnboarding"],[116,24,111,22],[117,6,112,4,"logout"],[117,12,112,10],[118,6,113,4,"isAuthenticated"],[118,21,113,19],[118,23,113,21],[118,24,113,22],[118,25,113,23,"token"],[119,4,114,2],[119,5,114,3],[120,4,116,2],[120,24,116,9],[120,28,116,9,"_reactJsxDevRuntime"],[120,47,116,9],[120,48,116,9,"jsxDEV"],[120,54,116,9],[120,56,116,10,"AuthContext"],[120,67,116,21],[120,68,116,22,"Provider"],[120,76,116,30],[121,6,116,31,"value"],[121,11,116,36],[121,13,116,38,"value"],[121,18,116,44],[122,6,116,44,"children"],[122,14,116,44],[122,16,116,46,"children"],[123,4,116,54],[124,6,116,54,"fileName"],[124,14,116,54],[124,16,116,54,"_jsxFileName"],[124,28,116,54],[125,6,116,54,"lineNumber"],[125,16,116,54],[126,6,116,54,"columnNumber"],[126,18,116,54],[127,4,116,54],[127,11,116,77],[127,12,116,78],[128,2,117,0],[128,3,117,1],[129,0,117,2],[129,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadAuthState","login","register","verifyOTP","completeOnboarding","logout"],"mappings":"AAA;uBCM;CDM;4BEE;YCO;GDE;wBEE;GFgB;gBGE;GHe;mBIE;GJe;oBKE;GLO;6BME;GNG;iBOE;GPS;CFgB"},"hasCjsExports":false},"type":"js/module"}]}