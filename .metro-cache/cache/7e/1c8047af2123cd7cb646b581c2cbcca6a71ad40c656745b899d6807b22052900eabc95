{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":50,"index":129}}],"key":"rswhtWQFlk40P6/ZSXiz3NZSC0I=","exportNames":["*"],"imports":1}},{"name":"../api/authApi","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":130},"end":{"line":3,"column":41,"index":171}}],"key":"3Xc86rltUICGaenx4wcLvSUPHDU=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/store/AuthContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsStorage = require(_dependencyMap[1], \"../utils/storage\");\n  var _apiAuthApi = require(_dependencyMap[2], \"../api/authApi\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(null);\n  const useAuth = () => {\n    _s();\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  const AuthProvider = ({\n    children\n  }) => {\n    _s2();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [onboardingComplete, setOnboardingComplete] = (0, _react.useState)(false);\n    const [loading, setLoading] = (0, _react.useState)(true);\n\n    // Load auth state on mount\n    (0, _react.useEffect)(() => {\n      loadAuthState();\n    }, []);\n    const loadAuthState = async () => {\n      try {\n        const storedToken = await _utilsStorage.StorageService.getToken();\n        const storedUser = await _utilsStorage.StorageService.getUser();\n        const onboardingStatus = await _utilsStorage.StorageService.isOnboardingComplete();\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(storedUser);\n          setOnboardingComplete(onboardingStatus);\n        }\n      } catch (error) {\n        console.error('Error loading auth state:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (email, password) => {\n      try {\n        const response = await _apiAuthApi.AuthAPI.login(email, password);\n        await _utilsStorage.StorageService.saveToken(response.token);\n        await _utilsStorage.StorageService.saveUser(response.user);\n        setToken(response.token);\n        setUser(response.user);\n        setOnboardingComplete(false);\n        return response;\n      } catch (error) {\n        throw error;\n      }\n    };\n    const register = async (email, password, name) => {\n      try {\n        const response = await _apiAuthApi.AuthAPI.register(email, password, name);\n        await _utilsStorage.StorageService.saveToken(response.token);\n        await _utilsStorage.StorageService.saveUser(response.user);\n        setToken(response.token);\n        setUser(response.user);\n        setOnboardingComplete(false);\n        return response;\n      } catch (error) {\n        throw error;\n      }\n    };\n    const verifyOTP = async (email, otp) => {\n      try {\n        const response = await _apiAuthApi.AuthAPI.verifyOTP(email, otp);\n        return response;\n      } catch (error) {\n        throw error;\n      }\n    };\n    const completeOnboarding = async () => {\n      await _utilsStorage.StorageService.setOnboardingComplete(true);\n      setOnboardingComplete(true);\n    };\n    const logout = async () => {\n      try {\n        await _apiAuthApi.AuthAPI.logout();\n        setUser(null);\n        setToken(null);\n        setOnboardingComplete(false);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const value = {\n      user,\n      token,\n      onboardingComplete,\n      loading,\n      login,\n      register,\n      verifyOTP,\n      completeOnboarding,\n      logout,\n      isAuthenticated: !!token\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: value,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 10\n    }, this);\n  };\n  _s2(AuthProvider, \"BBmlBIoeaBqIv9ft70tU0bgMg+s=\");\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":138,"map":[[10,2,7,0,"Object"],[10,8,7,0],[10,9,7,0,"defineProperty"],[10,23,7,0],[10,24,7,0,"exports"],[10,31,7,0],[11,4,7,0,"enumerable"],[11,14,7,0],[12,4,7,0,"get"],[12,7,7,0],[12,18,7,0,"get"],[12,19,7,0],[13,6,7,0],[13,13,7,0,"useAuth"],[13,20,7,0],[14,4,7,0],[15,2,7,0],[16,2,15,0,"Object"],[16,8,15,0],[16,9,15,0,"defineProperty"],[16,23,15,0],[16,24,15,0,"exports"],[16,31,15,0],[17,4,15,0,"enumerable"],[17,14,15,0],[18,4,15,0,"get"],[18,7,15,0],[18,18,15,0,"get"],[18,19,15,0],[19,6,15,0],[19,13,15,0,"AuthProvider"],[19,25,15,0],[20,4,15,0],[21,2,15,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,2,0],[23,6,2,0,"_utilsStorage"],[23,19,2,0],[23,22,2,0,"require"],[23,29,2,0],[23,30,2,0,"_dependencyMap"],[23,44,2,0],[24,2,3,0],[24,6,3,0,"_apiAuthApi"],[24,17,3,0],[24,20,3,0,"require"],[24,27,3,0],[24,28,3,0,"_dependencyMap"],[24,42,3,0],[25,2,3,41],[25,6,3,41,"_reactJsxDevRuntime"],[25,25,3,41],[25,28,3,41,"require"],[25,35,3,41],[25,36,3,41,"_dependencyMap"],[25,50,3,41],[26,2,5,0],[26,8,5,6,"AuthContext"],[26,19,5,17],[26,35,5,20],[26,39,5,20,"createContext"],[26,45,5,33],[26,46,5,33,"createContext"],[26,59,5,33],[26,61,5,34],[26,65,5,38],[26,66,5,39],[27,2,7,7],[27,8,7,13,"useAuth"],[27,15,7,20],[27,18,7,23,"useAuth"],[27,19,7,23],[27,24,7,29],[28,4,7,29,"_s"],[28,6,7,29],[29,4,8,2],[29,10,8,8,"context"],[29,17,8,15],[29,20,8,18],[29,24,8,18,"useContext"],[29,30,8,28],[29,31,8,28,"useContext"],[29,41,8,28],[29,43,8,29,"AuthContext"],[29,54,8,40],[29,55,8,41],[30,4,9,2],[30,8,9,6],[30,9,9,7,"context"],[30,16,9,14],[30,18,9,16],[31,6,10,4],[31,12,10,10],[31,16,10,14,"Error"],[31,21,10,19],[31,22,10,20],[31,64,10,62],[31,65,10,63],[32,4,11,2],[33,4,12,2],[33,11,12,9,"context"],[33,18,12,16],[34,2,13,0],[34,3,13,1],[35,2,13,2,"_s"],[35,4,13,2],[35,5,7,13,"useAuth"],[35,12,7,20],[36,2,15,7],[36,8,15,13,"AuthProvider"],[36,20,15,25],[36,23,15,28,"AuthProvider"],[36,24,15,29],[37,4,15,31,"children"],[38,2,15,40],[38,3,15,41],[38,8,15,46],[39,4,15,46,"_s2"],[39,7,15,46],[40,4,16,2],[40,10,16,8],[40,11,16,9,"user"],[40,15,16,13],[40,17,16,15,"setUser"],[40,24,16,22],[40,25,16,23],[40,28,16,26],[40,32,16,26,"useState"],[40,38,16,34],[40,39,16,34,"useState"],[40,47,16,34],[40,49,16,35],[40,53,16,39],[40,54,16,40],[41,4,17,2],[41,10,17,8],[41,11,17,9,"token"],[41,16,17,14],[41,18,17,16,"setToken"],[41,26,17,24],[41,27,17,25],[41,30,17,28],[41,34,17,28,"useState"],[41,40,17,36],[41,41,17,36,"useState"],[41,49,17,36],[41,51,17,37],[41,55,17,41],[41,56,17,42],[42,4,18,2],[42,10,18,8],[42,11,18,9,"onboardingComplete"],[42,29,18,27],[42,31,18,29,"setOnboardingComplete"],[42,52,18,50],[42,53,18,51],[42,56,18,54],[42,60,18,54,"useState"],[42,66,18,62],[42,67,18,62,"useState"],[42,75,18,62],[42,77,18,63],[42,82,18,68],[42,83,18,69],[43,4,19,2],[43,10,19,8],[43,11,19,9,"loading"],[43,18,19,16],[43,20,19,18,"setLoading"],[43,30,19,28],[43,31,19,29],[43,34,19,32],[43,38,19,32,"useState"],[43,44,19,40],[43,45,19,40,"useState"],[43,53,19,40],[43,55,19,41],[43,59,19,45],[43,60,19,46],[45,4,21,2],[46,4,22,2],[46,8,22,2,"useEffect"],[46,14,22,11],[46,15,22,11,"useEffect"],[46,24,22,11],[46,26,22,12],[46,32,22,18],[47,6,23,4,"loadAuthState"],[47,19,23,17],[47,20,23,18],[47,21,23,19],[48,4,24,2],[48,5,24,3],[48,7,24,5],[48,9,24,7],[48,10,24,8],[49,4,26,2],[49,10,26,8,"loadAuthState"],[49,23,26,21],[49,26,26,24],[49,32,26,24,"loadAuthState"],[49,33,26,24],[49,38,26,36],[50,6,27,4],[50,10,27,8],[51,8,28,6],[51,14,28,12,"storedToken"],[51,25,28,23],[51,28,28,26],[51,34,28,32,"StorageService"],[51,47,28,46],[51,48,28,46,"StorageService"],[51,62,28,46],[51,63,28,47,"getToken"],[51,71,28,55],[51,72,28,56],[51,73,28,57],[52,8,29,6],[52,14,29,12,"storedUser"],[52,24,29,22],[52,27,29,25],[52,33,29,31,"StorageService"],[52,46,29,45],[52,47,29,45,"StorageService"],[52,61,29,45],[52,62,29,46,"getUser"],[52,69,29,53],[52,70,29,54],[52,71,29,55],[53,8,30,6],[53,14,30,12,"onboardingStatus"],[53,30,30,28],[53,33,30,31],[53,39,30,37,"StorageService"],[53,52,30,51],[53,53,30,51,"StorageService"],[53,67,30,51],[53,68,30,52,"isOnboardingComplete"],[53,88,30,72],[53,89,30,73],[53,90,30,74],[54,8,32,6],[54,12,32,10,"storedToken"],[54,23,32,21],[54,27,32,25,"storedUser"],[54,37,32,35],[54,39,32,37],[55,10,33,8,"setToken"],[55,18,33,16],[55,19,33,17,"storedToken"],[55,30,33,28],[55,31,33,29],[56,10,34,8,"setUser"],[56,17,34,15],[56,18,34,16,"storedUser"],[56,28,34,26],[56,29,34,27],[57,10,35,8,"setOnboardingComplete"],[57,31,35,29],[57,32,35,30,"onboardingStatus"],[57,48,35,46],[57,49,35,47],[58,8,36,6],[59,6,37,4],[59,7,37,5],[59,8,37,6],[59,15,37,13,"error"],[59,20,37,18],[59,22,37,20],[60,8,38,6,"console"],[60,15,38,13],[60,16,38,14,"error"],[60,21,38,19],[60,22,38,20],[60,49,38,47],[60,51,38,49,"error"],[60,56,38,54],[60,57,38,55],[61,6,39,4],[61,7,39,5],[61,16,39,14],[62,8,40,6,"setLoading"],[62,18,40,16],[62,19,40,17],[62,24,40,22],[62,25,40,23],[63,6,41,4],[64,4,42,2],[64,5,42,3],[65,4,44,2],[65,10,44,8,"login"],[65,15,44,13],[65,18,44,16],[65,24,44,16,"login"],[65,25,44,23,"email"],[65,30,44,28],[65,32,44,30,"password"],[65,40,44,38],[65,45,44,43],[66,6,45,4],[66,10,45,8],[67,8,46,6],[67,14,46,12,"response"],[67,22,46,20],[67,25,46,23],[67,31,46,29,"AuthAPI"],[67,42,46,36],[67,43,46,36,"AuthAPI"],[67,50,46,36],[67,51,46,37,"login"],[67,56,46,42],[67,57,46,43,"email"],[67,62,46,48],[67,64,46,50,"password"],[67,72,46,58],[67,73,46,59],[68,8,48,6],[68,14,48,12,"StorageService"],[68,27,48,26],[68,28,48,26,"StorageService"],[68,42,48,26],[68,43,48,27,"saveToken"],[68,52,48,36],[68,53,48,37,"response"],[68,61,48,45],[68,62,48,46,"token"],[68,67,48,51],[68,68,48,52],[69,8,49,6],[69,14,49,12,"StorageService"],[69,27,49,26],[69,28,49,26,"StorageService"],[69,42,49,26],[69,43,49,27,"saveUser"],[69,51,49,35],[69,52,49,36,"response"],[69,60,49,44],[69,61,49,45,"user"],[69,65,49,49],[69,66,49,50],[70,8,51,6,"setToken"],[70,16,51,14],[70,17,51,15,"response"],[70,25,51,23],[70,26,51,24,"token"],[70,31,51,29],[70,32,51,30],[71,8,52,6,"setUser"],[71,15,52,13],[71,16,52,14,"response"],[71,24,52,22],[71,25,52,23,"user"],[71,29,52,27],[71,30,52,28],[72,8,53,6,"setOnboardingComplete"],[72,29,53,27],[72,30,53,28],[72,35,53,33],[72,36,53,34],[73,8,55,6],[73,15,55,13,"response"],[73,23,55,21],[74,6,56,4],[74,7,56,5],[74,8,56,6],[74,15,56,13,"error"],[74,20,56,18],[74,22,56,20],[75,8,57,6],[75,14,57,12,"error"],[75,19,57,17],[76,6,58,4],[77,4,59,2],[77,5,59,3],[78,4,61,2],[78,10,61,8,"register"],[78,18,61,16],[78,21,61,19],[78,27,61,19,"register"],[78,28,61,26,"email"],[78,33,61,31],[78,35,61,33,"password"],[78,43,61,41],[78,45,61,43,"name"],[78,49,61,47],[78,54,61,52],[79,6,62,4],[79,10,62,8],[80,8,63,6],[80,14,63,12,"response"],[80,22,63,20],[80,25,63,23],[80,31,63,29,"AuthAPI"],[80,42,63,36],[80,43,63,36,"AuthAPI"],[80,50,63,36],[80,51,63,37,"register"],[80,59,63,45],[80,60,63,46,"email"],[80,65,63,51],[80,67,63,53,"password"],[80,75,63,61],[80,77,63,63,"name"],[80,81,63,67],[80,82,63,68],[81,8,65,6],[81,14,65,12,"StorageService"],[81,27,65,26],[81,28,65,26,"StorageService"],[81,42,65,26],[81,43,65,27,"saveToken"],[81,52,65,36],[81,53,65,37,"response"],[81,61,65,45],[81,62,65,46,"token"],[81,67,65,51],[81,68,65,52],[82,8,66,6],[82,14,66,12,"StorageService"],[82,27,66,26],[82,28,66,26,"StorageService"],[82,42,66,26],[82,43,66,27,"saveUser"],[82,51,66,35],[82,52,66,36,"response"],[82,60,66,44],[82,61,66,45,"user"],[82,65,66,49],[82,66,66,50],[83,8,68,6,"setToken"],[83,16,68,14],[83,17,68,15,"response"],[83,25,68,23],[83,26,68,24,"token"],[83,31,68,29],[83,32,68,30],[84,8,69,6,"setUser"],[84,15,69,13],[84,16,69,14,"response"],[84,24,69,22],[84,25,69,23,"user"],[84,29,69,27],[84,30,69,28],[85,8,70,6,"setOnboardingComplete"],[85,29,70,27],[85,30,70,28],[85,35,70,33],[85,36,70,34],[86,8,72,6],[86,15,72,13,"response"],[86,23,72,21],[87,6,73,4],[87,7,73,5],[87,8,73,6],[87,15,73,13,"error"],[87,20,73,18],[87,22,73,20],[88,8,74,6],[88,14,74,12,"error"],[88,19,74,17],[89,6,75,4],[90,4,76,2],[90,5,76,3],[91,4,78,2],[91,10,78,8,"verifyOTP"],[91,19,78,17],[91,22,78,20],[91,28,78,20,"verifyOTP"],[91,29,78,27,"email"],[91,34,78,32],[91,36,78,34,"otp"],[91,39,78,37],[91,44,78,42],[92,6,79,4],[92,10,79,8],[93,8,80,6],[93,14,80,12,"response"],[93,22,80,20],[93,25,80,23],[93,31,80,29,"AuthAPI"],[93,42,80,36],[93,43,80,36,"AuthAPI"],[93,50,80,36],[93,51,80,37,"verifyOTP"],[93,60,80,46],[93,61,80,47,"email"],[93,66,80,52],[93,68,80,54,"otp"],[93,71,80,57],[93,72,80,58],[94,8,81,6],[94,15,81,13,"response"],[94,23,81,21],[95,6,82,4],[95,7,82,5],[95,8,82,6],[95,15,82,13,"error"],[95,20,82,18],[95,22,82,20],[96,8,83,6],[96,14,83,12,"error"],[96,19,83,17],[97,6,84,4],[98,4,85,2],[98,5,85,3],[99,4,87,2],[99,10,87,8,"completeOnboarding"],[99,28,87,26],[99,31,87,29],[99,37,87,29,"completeOnboarding"],[99,38,87,29],[99,43,87,41],[100,6,88,4],[100,12,88,10,"StorageService"],[100,25,88,24],[100,26,88,24,"StorageService"],[100,40,88,24],[100,41,88,25,"setOnboardingComplete"],[100,62,88,46],[100,63,88,47],[100,67,88,51],[100,68,88,52],[101,6,89,4,"setOnboardingComplete"],[101,27,89,25],[101,28,89,26],[101,32,89,30],[101,33,89,31],[102,4,90,2],[102,5,90,3],[103,4,92,2],[103,10,92,8,"logout"],[103,16,92,14],[103,19,92,17],[103,25,92,17,"logout"],[103,26,92,17],[103,31,92,29],[104,6,93,4],[104,10,93,8],[105,8,94,6],[105,14,94,12,"AuthAPI"],[105,25,94,19],[105,26,94,19,"AuthAPI"],[105,33,94,19],[105,34,94,20,"logout"],[105,40,94,26],[105,41,94,27],[105,42,94,28],[106,8,95,6,"setUser"],[106,15,95,13],[106,16,95,14],[106,20,95,18],[106,21,95,19],[107,8,96,6,"setToken"],[107,16,96,14],[107,17,96,15],[107,21,96,19],[107,22,96,20],[108,8,97,6,"setOnboardingComplete"],[108,29,97,27],[108,30,97,28],[108,35,97,33],[108,36,97,34],[109,6,98,4],[109,7,98,5],[109,8,98,6],[109,15,98,13,"error"],[109,20,98,18],[109,22,98,20],[110,8,99,6,"console"],[110,15,99,13],[110,16,99,14,"error"],[110,21,99,19],[110,22,99,20],[110,37,99,35],[110,39,99,37,"error"],[110,44,99,42],[110,45,99,43],[111,6,100,4],[112,4,101,2],[112,5,101,3],[113,4,103,2],[113,10,103,8,"value"],[113,15,103,13],[113,18,103,16],[114,6,104,4,"user"],[114,10,104,8],[115,6,105,4,"token"],[115,11,105,9],[116,6,106,4,"onboardingComplete"],[116,24,106,22],[117,6,107,4,"loading"],[117,13,107,11],[118,6,108,4,"login"],[118,11,108,9],[119,6,109,4,"register"],[119,14,109,12],[120,6,110,4,"verifyOTP"],[120,15,110,13],[121,6,111,4,"completeOnboarding"],[121,24,111,22],[122,6,112,4,"logout"],[122,12,112,10],[123,6,113,4,"isAuthenticated"],[123,21,113,19],[123,23,113,21],[123,24,113,22],[123,25,113,23,"token"],[124,4,114,2],[124,5,114,3],[125,4,116,2],[125,24,116,9],[125,28,116,9,"_reactJsxDevRuntime"],[125,47,116,9],[125,48,116,9,"jsxDEV"],[125,54,116,9],[125,56,116,10,"AuthContext"],[125,67,116,21],[125,68,116,22,"Provider"],[125,76,116,30],[126,6,116,31,"value"],[126,11,116,36],[126,13,116,38,"value"],[126,18,116,44],[127,6,116,44,"children"],[127,14,116,44],[127,16,116,46,"children"],[128,4,116,54],[129,6,116,54,"fileName"],[129,14,116,54],[129,16,116,54,"_jsxFileName"],[129,28,116,54],[130,6,116,54,"lineNumber"],[130,16,116,54],[131,6,116,54,"columnNumber"],[131,18,116,54],[132,4,116,54],[132,11,116,77],[132,12,116,78],[133,2,117,0],[133,3,117,1],[134,2,117,2,"_s2"],[134,5,117,2],[134,6,15,13,"AuthProvider"],[134,18,15,25],[135,2,15,25,"_c"],[135,4,15,25],[135,7,15,13,"AuthProvider"],[135,19,15,25],[136,2,15,25],[136,6,15,25,"_c"],[136,8,15,25],[137,2,15,25,"$RefreshReg$"],[137,14,15,25],[137,15,15,25,"_c"],[137,17,15,25],[138,0,15,25],[138,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","loadAuthState","login","register","verifyOTP","completeOnboarding","logout"],"mappings":"AAA;uBCM;CDM;4BEE;YCO;GDE;wBEE;GFgB;gBGE;GHe;mBIE;GJe;oBKE;GLO;6BME;GNG;iBOE;GPS;CFgB"},"hasCjsExports":false},"type":"js/module"}]}